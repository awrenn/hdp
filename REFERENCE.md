# Reference
<!-- DO NOT EDIT: This document was generated by Puppet Strings -->

## Table of Contents

**Classes**

* [`hdp::app_stack`](#hdpapp_stack): Configure a node to run HDP
* [`hdp::report_processor`](#hdpreport_processor): Simple class to enable the HDP report processor

**Data types**

* [`HDP::Url`](#hdpurl): 

**Tasks**

* [`get_service_status`](#get_service_status): Get the status of the HDP docker-compose services
* [`update_all_images`](#update_all_images): Automates the dance needed to get docker-compose to update the container for every service
* [`use_updated_image`](#use_updated_image): Automates the dance needed to get docker-compose to use an updated image

## Classes

### hdp::app_stack

This class takes care of configuring a node to run HDP.

#### Examples

##### Use defalts or configure via Hiera

```puppet
include hdp::app_stack
```

##### Manage the docker group elsewhere

```puppet
realize(Group['docker'])

class { 'hdp::app_stack':
  create_docker_group => false,
  require             => Group['docker'],
}
```

#### Parameters

The following parameters are available in the `hdp::app_stack` class.

##### `analytics`

Data type: `Boolean`

Enable/Disable collection of Analytic Data

Default value: `true`

##### `create_docker_group`

Data type: `Boolean`

Ensure the docker group is present.

Default value: `true`

##### `manage_docker`

Data type: `Boolean`

Install and manage docker as part of app_stack

Default value: `true`

##### `https_port`

Data type: `Integer`

Secure port number to access the HDP UI

Default value: 443

##### `compose_version`

Data type: `String[1]`

The version of docker-compose to install

Default value: '1.25.0'

##### `image_prefix`

Data type: `String[1]`

The string that comes before the name of each
container. This can be changed to support private
image repositories such as for internal testing or
air gapped environments.

Default value: 'puppet/hdp-'

##### `hdp_version`

Data type: `String[1]`

The version of the HDP containers to use

Default value: '1.0.0-alpha.2'

##### `log_driver`

Data type: `String[1]`

The log driver Docker will use

Default value: 'journald'

##### `docker_users`

Data type: `Optional[Array[String[1]]]`

Users to be added to the docker group on the system

Default value: `undef`

### hdp::report_processor

Simple class to enable the HDP report processor

#### Examples

##### Configuration via Hiera with default port

```puppet
---
hdp::report_processor::hdp_url: 'https://hdp.example.com/in'
hdp::report_processor::pe_console: 'pe-console.example.com'
```

##### Configuration via Hiera with custom port

```puppet
---
hdp::report_processor::hdp_url: 'https://hdp.example.com:8443/in'
hdp::report_processor::pe_console: 'pe-console.example.com'
```

##### Configuration in a manifest with default port

```puppet
# Settings applied to both a master and compilers
class { 'profile::masters_and_compilers':
  class { 'hdp::report_processor':
    hdp_url  => 'https://hdp.example.com/in',
    pe_console => 'pe-console.example.com',
  }
}
```

##### Configuration in a manifest with custom port

```puppet
# Settings applied to both a master and compilers
class { 'profile::masters_and_compilers':
  class { 'hdp::report_processor':
    hdp_url  => 'https://hdp.example.com:8443/in',
    pe_console => 'pe-console.example.com',
  }
}
```

##### Send data to two HDP servers

```puppet
---
hdp::report_processor::hdp_url:
  - 'https://hdp-prod.example.com:8443/in'
  - 'https://hdp-staging.example.com:8443/in'
hdp::report_processor::pe_console: 'pe-console.example.com'
```

#### Parameters

The following parameters are available in the `hdp::report_processor` class.

##### `hdp_url`

Data type: `HDP::Url`

The url to send reports to.

##### `enable_reports`

Data type: `Boolean`

Enable sending reports to HDP

Default value: `true`

##### `manage_routes`

Data type: `Boolean`

Enable managing the HDP routes file

Default value: `true`

##### `facts_terminus`

Data type: `String[1]`



Default value: 'puppetdb'

##### `facts_cache_terminus`

Data type: `String[1]`



Default value: 'hdp'

##### `reports`

Data type: `String[1]`

A string containg the list of report processors to enable

Default value: 'puppetdb,hdp'

##### `pe_console`

Data type: `Optional[Stdlib::Fqdn]`

The FQDN of your PE Console.

Default value: `undef`

## Data types

### HDP::Url

The HDP::Url data type.

Alias of `Variant[Array[Stdlib::HTTPUrl], Stdlib::HTTPUrl]`

## Tasks

### get_service_status

Get the status of the HDP docker-compose services

**Supports noop?** false

### update_all_images

Automates the dance needed to get docker-compose to update the container for every service

**Supports noop?** false

### use_updated_image

Automates the dance needed to get docker-compose to use an updated image

**Supports noop?** false

#### Parameters

##### `service`

Data type: `Enum[frontdoor,identity,influxdb,ingest-queue,mongo,query,rabbitmq,ui]`

The service you wish to update

